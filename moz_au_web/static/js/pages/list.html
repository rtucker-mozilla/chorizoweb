<div ng-init="init()" ng-controller="ServerListCtrl">
    Search: <delay-search delayed-method="requery(search)"></delay-search>
    <table style="margin-top: 55px;" ng-if="systems.length > 0" class="table table-bordered table-striped">
        <thead>
        <tr>
            <th>Hostname</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="system in systems | filter:query">
            <td><a href="#updates/{{ system.hostname }}">{{ system.hostname }}</a></td>
        </tr>
        </tbody>
    </table>
    <h3>Recent Update Logs</h3>
    <table style="margin-top: 15px;" ng-if="recent.length > 0" class="table table-bordered table-striped">
        <thead>
        <tr>
            <th>Date</th>
            <th>Hostname</th>
            <th>Return Code</th>
            <th>Log Message</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="update in recent">
            <td>
                {{ update.created_at }}
            </td>
            <td><a href="#updates/{{ update.hostname }}">{{ update.hostname }}</a></td>
            <td>
                {{ update.return_code }}
            </td>
            <td>
                {{ update.log_text }}
            </td>
        </tr>
        </tbody>
    </table>
</div>
